<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Painel de AdministraÃ§Ã£o</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main>
    <h1>Painel de AdministraÃ§Ã£o</h1>
    <button id="logout-btn">Logout</button>

    <section>
      <h2>UsuÃ¡rios Cadastrados</h2>
      <table id="users-table">
        <thead>
          <tr>
            <th>UsuÃ¡rio</th>
            <th>Senha</th>
            <th>E-mail</th>
            <th>NÃ­vel</th>
            <th>AÃ§Ãµes</th>
          </tr>
        </thead>
        <tbody>
          <!-- Vai ser preenchido dinamicamente pelo admin.js -->
        </tbody>
      </table>
    </section>

    <section>
      <h2>Cadastrar Novo UsuÃ¡rio</h2>
      <input type="text" id="new-user" placeholder="Novo usuÃ¡rio" />
      <input type="password" id="new-pass" placeholder="Senha" />
      <input type="email" id="new-email" placeholder="E-mail" />
      <select id="new-level">
        <option value="usuario">usuario</option>
        <option value="admin">admin</option>
      </select>
      <button id="create-user-btn">Criar UsuÃ¡rio</button>
    </section>
  </main>

  <!-- Script de integraÃ§Ã£o Supabase, EmailJS etc. -->
  <script type="module" src="supabase.js"></script>
  <script type="module" src="admin.js"></script>

  <!-- Toggle de senha -->
  <script>
    // delegaÃ§Ã£o: quando clicar em qualquer botÃ£o .toggle-password
    document.body.addEventListener('click', e => {
      if (!e.target.matches('.toggle-password')) return;
      const btn = e.target;
      // encontra o <input> de senha na mesma cÃ©lula
      const input = btn.closest('td').querySelector('input');
      input.type = input.type === 'password' ? 'text' : 'password';
      // opcional: muda o Ã­cone
      btn.textContent = input.type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ™ˆ';
    });
  </script>
</body>
</html>
