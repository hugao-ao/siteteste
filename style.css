:root {
  /* Cores Base (Podem ser usadas como fallback ou para elementos comuns) */
  --emerald-dark: #023020;
  --gold: #DAA520;
  --gold-darker: #B8860B;
  --gold-lighter: #FFEC8B;
  --bg-dark-default: #121212;
  --bg-surface-default: #1e1e1e;
  --text-light-default: #e0e0e0;
  --text-muted-default: #a0a0a0;
  --border-color-default: #444444;
  --shadow-color-default: rgba(218, 165, 32, 0.3);
  --emerald-glow: rgba(2, 48, 32, 0.6);

  /* Cores Tema Admin (Padrão) */
  --admin-primary: var(--emerald-dark);
  --admin-secondary: var(--gold);
  --admin-secondary-darker: var(--gold-darker);
  --admin-secondary-lighter: var(--gold-lighter);
  --admin-bg-dark: var(--bg-dark-default);
  --admin-bg-surface: var(--bg-surface-default);
  --admin-text-light: var(--text-light-default);
  --admin-text-muted: var(--text-muted-default);
  --admin-border-color: var(--border-color-default);
  --admin-shadow-color: var(--shadow-color-default);
  --admin-header-bg: var(--emerald-dark);
  --admin-header-text: var(--gold-lighter);

  /* Cores Tema Argos (Azul MAIS CLARO) */
  --argos-primary: #1e90ff; /* Azul Dodger (mantido) */
  --argos-primary-darker: #1c86ee;
  --argos-primary-lighter: #4cb2ff;
  --argos-secondary: #ffffff; /* Branco como secundário */
  --argos-secondary-darker: #f0f0f0;
  --argos-secondary-lighter: #ffffff;
  --argos-bg-dark: #4682B4; /* SteelBlue (AINDA MAIS CLARO) */
  --argos-bg-surface: #B0C4DE; /* LightSteelBlue (AINDA MAIS CLARO para superfície) */
  --argos-text-light: #2c3e50; /* Midnight Blue (MAIS ESCURO para contraste) */
  --argos-text-muted: #bdc3c7; /* Silver */
  --argos-border-color: #7f8c8d; /* Cinza ardósia */
  --argos-shadow-color: rgba(30, 144, 255, 0.3);
  --argos-header-bg: var(--argos-primary);
  --argos-header-text: var(--argos-secondary);

  /* Cores Tema HVC (Azul Escuro) */
  --hvc-primary: #000080; /* Navy */
  --hvc-primary-darker: #000066;
  --hvc-primary-lighter: #333399;
  --hvc-secondary: #add8e6; /* Light blue */
  --hvc-secondary-darker: #87ceeb; /* Sky blue */
  --hvc-secondary-lighter: #e0ffff; /* Light cyan */
  --hvc-bg-dark: #0f0f1f; /* Quase preto azulado */
  --hvc-bg-surface: #191933; /* Azul muito escuro para superfícies */
  --hvc-text-light: #e6e6fa; /* Lavender */
  --hvc-text-muted: #b0b0d0;
  --hvc-border-color: #483d8b; /* Dark slate blue */
  --hvc-shadow-color: rgba(0, 0, 128, 0.3);
  --hvc-header-bg: var(--hvc-primary);
  --hvc-header-text: var(--hvc-secondary-lighter);

  /* Cores Tema Planejamento (Verde) */
  --planejamento-primary: #006400; /* Dark green */
  --planejamento-primary-darker: #004d00;
  --planejamento-primary-lighter: #008000; /* Green */
  --planejamento-secondary: #f5f5dc; /* Beige */
  --planejamento-secondary-darker: #d2b48c; /* Tan */
  --planejamento-secondary-lighter: #fffacd; /* Lemon chiffon */
  --planejamento-bg-dark: #1a2a1a; /* Verde muito escuro */
  --planejamento-bg-surface: #2a4a2a; /* Verde escuro para superfícies */
  --planejamento-text-light: #f0fff0; /* Honeydew */
  --planejamento-text-muted: #90ee90; /* Light green */
  --planejamento-border-color: #556b2f; /* Dark olive green */
  --planejamento-shadow-color: rgba(0, 100, 0, 0.3);
  --planejamento-header-bg: var(--planejamento-primary);
  --planejamento-header-text: var(--planejamento-secondary-lighter);

  /* Variáveis Genéricas (serão sobrescritas pelos temas) */
  --theme-primary: var(--admin-primary);
  --theme-secondary: var(--admin-secondary);
  --theme-secondary-darker: var(--admin-secondary-darker);
  --theme-secondary-lighter: var(--admin-secondary-lighter);
  --theme-bg-dark: var(--admin-bg-dark);
  --theme-bg-surface: var(--admin-bg-surface);
  --theme-text-light: var(--admin-text-light);
  --theme-text-muted: var(--admin-text-muted);
  --theme-border-color: var(--admin-border-color);
  --theme-shadow-color: var(--admin-shadow-color);
  --theme-header-bg: var(--admin-header-bg);
  --theme-header-text: var(--admin-header-text);

  --font-primary: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* Aplica temas específicos sobrescrevendo variáveis genéricas */
.theme-admin, body:not([class*="theme-"]) /* Aplica admin como padrão se nenhum tema for definido no body */ {
  --theme-primary: var(--admin-primary);
  --theme-secondary: var(--admin-secondary);
  --theme-secondary-darker: var(--admin-secondary-darker);
  --theme-secondary-lighter: var(--admin-secondary-lighter);
  --theme-bg-dark: var(--admin-bg-dark);
  --theme-bg-surface: var(--admin-bg-surface);
  --theme-text-light: var(--admin-text-light);
  --theme-text-muted: var(--admin-text-muted);
  --theme-border-color: var(--admin-border-color);
  --theme-shadow-color: var(--admin-shadow-color);
  --theme-header-bg: var(--admin-header-bg);
  --theme-header-text: var(--admin-header-text);
}

.theme-argos {
  --theme-primary: var(--argos-primary);
  --theme-secondary: var(--argos-secondary);
  --theme-secondary-darker: var(--argos-secondary-darker);
  --theme-secondary-lighter: var(--argos-secondary-lighter);
  --theme-bg-dark: var(--argos-bg-dark);
  --theme-bg-surface: var(--argos-bg-surface);
  --theme-text-light: var(--argos-text-light);
  --theme-text-muted: var(--argos-text-muted);
  --theme-border-color: var(--argos-border-color);
  --theme-shadow-color: var(--argos-shadow-color);
  --theme-header-bg: var(--argos-header-bg);
  --theme-header-text: var(--argos-header-text);
}

.theme-hvc {
  --theme-primary: var(--hvc-primary);
  --theme-secondary: var(--hvc-secondary);
  --theme-secondary-darker: var(--hvc-secondary-darker);
  --theme-secondary-lighter: var(--hvc-secondary-lighter);
  --theme-bg-dark: var(--hvc-bg-dark);
  --theme-bg-surface: var(--hvc-bg-surface);
  --theme-text-light: var(--hvc-text-light);
  --theme-text-muted: var(--hvc-text-muted);
  --theme-border-color: var(--hvc-border-color);
  --theme-shadow-color: var(--hvc-shadow-color);
  --theme-header-bg: var(--hvc-header-bg);
  --theme-header-text: var(--hvc-header-text);
}

.theme-planejamento {
  --theme-primary: var(--planejamento-primary);
  --theme-secondary: var(--planejamento-secondary);
  --theme-secondary-darker: var(--planejamento-secondary-darker);
  --theme-secondary-lighter: var(--planejamento-secondary-lighter);
  --theme-bg-dark: var(--planejamento-bg-dark);
  --theme-bg-surface: var(--planejamento-bg-surface);
  --theme-text-light: var(--planejamento-text-light);
  --theme-text-muted: var(--planejamento-text-muted);
  --theme-border-color: var(--planejamento-border-color);
  --theme-shadow-color: var(--planejamento-shadow-color);
  --theme-header-bg: var(--planejamento-header-bg);
  --theme-header-text: var(--planejamento-header-text);
}


*,
*::before,
*::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: var(--font-primary);
  background-color: var(--theme-bg-dark); /* USA VARIÁVEL DE TEMA */
  color: var(--theme-text-light); /* USA VARIÁVEL DE TEMA */
  line-height: 1.6;
  padding: 0; /* Removido padding geral, será controlado pelo main ou sidebar */
  margin: 0; /* Garantir sem margem */
  min-height: 100vh;
  display: flex; /* Alterado para flex para layout com sidebar */
}

h1, h2, h3 {
  color: var(--theme-secondary-lighter); /* USA VARIÁVEL DE TEMA */
  margin-bottom: 1rem;
  font-weight: 600;
  /* text-shadow: 1px 1px 3px var(--emerald-glow); Removido shadow genérico, pode ser específico do tema */
}

a {
  color: var(--theme-secondary); /* USA VARIÁVEL DE TEMA */
  text-decoration: none;
  transition: color 0.3s ease;
}

a:hover {
  color: var(--theme-secondary-lighter); /* USA VARIÁVEL DE TEMA */
}

/* Estilos base para containers principais (main) */
main {
  flex-grow: 1; /* Ocupa o espaço disponível */
  /* max-width: 900px; Removido max-width para ocupar tela cheia com sidebar */
  /* width: 100%; */
  /* margin: 2rem auto; Removido margin auto */
  padding: 2rem;
  background-color: var(--theme-bg-surface); /* USA VARIÁVEL DE TEMA */
  /* border-radius: 12px; Removido radius para ocupar tela */
  /* box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3), 0 0 10px var(--theme-shadow-color); Removido shadow */
  /* border: 1px solid var(--theme-border-color); Removido border */
  margin-left: 250px; /* Espaço para sidebar padrão */
  transition: margin-left 0.3s ease;
}

/* Ajuste para quando a sidebar está colapsada */
main.sidebar-collapsed {
    margin-left: 60px;
}


/* Adicionando estilos iniciais para botões e inputs */
button, input, select, textarea {
  font-family: inherit;
  font-size: 1rem;
  padding: 0.75rem 1rem;
  border-radius: 6px;
  border: 1px solid var(--theme-border-color); /* USA VARIÁVEL DE TEMA */
  background-color: var(--theme-bg-dark); /* USA VARIÁVEL DE TEMA */
  color: var(--theme-text-light); /* USA VARIÁVEL DE TEMA */
  margin-bottom: 1rem; /* Espaçamento padrão */
  transition: all 0.3s ease;
}

input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: var(--theme-secondary); /* USA VARIÁVEL DE TEMA */
  box-shadow: 0 0 5px var(--theme-shadow-color); /* USA VARIÁVEL DE TEMA */
}

button {
  cursor: pointer;
  background: linear-gradient(145deg, var(--theme-secondary-darker), var(--theme-secondary)); /* USA VARIÁVEL DE TEMA */
  color: var(--theme-bg-dark); /* Contraste com o botão */
  font-weight: bold;
  border: none;
  text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
}

button:hover {
  background: linear-gradient(145deg, var(--theme-secondary), var(--theme-secondary-lighter)); /* USA VARIÁVEL DE TEMA */
  box-shadow: 0 0 10px var(--theme-shadow-color); /* USA VARIÁVEL DE TEMA */
  transform: translateY(-2px);
}

button:active {
  transform: translateY(0);
}

/* Estilos básicos para tabelas */
table {
  width: 100%;
  border-collapse: separate; /* Permite border-radius nas células */
  border-spacing: 0;
  margin-top: 1.5rem;
  background-color: var(--theme-bg-dark); /* USA VARIÁVEL DE TEMA */
  border-radius: 8px;
  overflow: hidden; /* Garante que o border-radius funcione */
  border: 1px solid var(--theme-border-color); /* USA VARIÁVEL DE TEMA */
}

th, td {
  padding: 0.8rem 1rem;
  text-align: left;
  border-bottom: 1px solid var(--theme-border-color); /* USA VARIÁVEL DE TEMA */
}

th {
  background-color: var(--theme-header-bg); /* USA VARIÁVEL DE TEMA */
  color: var(--theme-header-text); /* USA VARIÁVEL DE TEMA */
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.9rem;
  letter-spacing: 0.5px;
}

td {
  vertical-align: middle;
}

/* Remove a borda inferior da última linha */
tr:last-child td {
  border-bottom: none;
}

/* Ajustes específicos para inputs dentro da tabela */
td input, td select {
  width: calc(100% - 10px); /* Ajusta a largura */
  margin-bottom: 0; /* Remove margem inferior dentro da célula */
  padding: 0.5rem;
}

td button {
  padding: 0.4rem 0.8rem;
  font-size: 0.9rem;
  margin-right: 0.5rem;
  margin-bottom: 0; /* Remove margem inferior */
}

/* Botão de alternar senha */
.toggle-password {
  background: none;
  border: none;
  color: var(--theme-text-muted); /* USA VARIÁVEL DE TEMA */
  cursor: pointer;
  padding: 0.2rem;
  margin-left: 0.5rem;
  font-size: 1.1rem;
}

.toggle-password:hover {
  color: var(--theme-secondary-lighter); /* USA VARIÁVEL DE TEMA */
  background: none; /* Sobrescreve hover de botão padrão */
  box-shadow: none;
  transform: none;
}

/* Mensagem de erro */
.error-message {
  color: #ff6b6b; /* Vermelho claro para erros */
  background-color: rgba(255, 107, 107, 0.1);
  padding: 0.75rem;
  border-radius: 6px;
  margin-bottom: 1rem;
  border: 1px solid #ff6b6b;
  text-align: center;
  font-size: 0.9rem;
}

/* Seção de cadastro */
section {
  margin-top: 2rem;
  padding-top: 1.5rem;
  border-top: 1px solid var(--theme-border-color); /* USA VARIÁVEL DE TEMA */
}

section h2 {
  margin-bottom: 1.5rem;
}

/* Layout para formulário de cadastro */
#create-user-form {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 1rem;
    align-items: end; /* Alinha itens na base */
}

#create-user-form input,
#create-user-form select {
    width: 100%;
}

#create-user-form button {
    grid-column: span 1; /* Ocupa uma coluna */
    /* Ajustes podem ser necessários dependendo de quantos campos houver */
}

/* Logout Button (Removido daqui, pois está na sidebar) */
/* #logout-btn { ... } */

/* Estilos específicos para Login Container */
.login-container {
  max-width: 400px;
  margin: 5rem auto; /* Mais margem no topo */
  padding: 2.5rem;
  background-color: var(--theme-bg-surface); /* USA VARIÁVEL DE TEMA */
  border-radius: 12px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3), 0 0 10px var(--theme-shadow-color); /* USA VARIÁVEL DE TEMA */
  border: 1px solid var(--theme-border-color); /* USA VARIÁVEL DE TEMA */
  text-align: center;
}

.login-container h2 {
  margin-bottom: 1.5rem;
  color: var(--theme-secondary-lighter); /* USA VARIÁVEL DE TEMA */
}

.login-container input {
  width: 100%;
  margin-bottom: 1.2rem;
}

.login-container button {
  width: 100%;
  padding: 0.8rem;
}

/* Efeito de brilho sutil (mantido) */
.shiny-effect {
  position: relative;
  overflow: hidden;
}

.shiny-effect::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 70%); /* Ajustar cor do brilho por tema? */
  transform: rotate(45deg);
  animation: shine 4s infinite linear;
  opacity: 0;
  transition: opacity 0.5s ease;
}

.shiny-effect:hover::after {
    opacity: 1;
}

@keyframes shine {
  0% { transform: translateX(-75%) translateY(-75%) rotate(45deg); }
  100% { transform: translateX(75%) translateY(75%) rotate(45deg); }
}

/* Aplicando efeito a botões principais (mantido) */
button:not(.toggle-password) {
    position: relative; /* Necessário para o pseudo-elemento */
    overflow: hidden; /* Contém o brilho */
}

button:not(.toggle-password)::after {
    content: '';
    position: absolute;
    top: -110%;
    left: -210%;
    width: 200%;
    height: 200%;
    opacity: 0;
    transform: rotate(30deg);

    background: rgba(255, 255, 255, 0.13);
    background: linear-gradient(
        to right,
        rgba(255, 255, 255, 0.13) 0%,
        rgba(255, 255, 255, 0.13) 77%,
        rgba(255, 255, 255, 0.5) 92%,
        rgba(255, 255, 255, 0.0) 100%
    );
    transition: opacity 0.4s ease-in-out;
}

button:not(.toggle-password):hover::after {
    opacity: 1;
    left: -30%;
    transition-property: left, top, opacity;
    transition-duration: 0.7s, 0.7s, 0.15s;
    transition-timing-function: ease;
}

button:not(.toggle-password):active::after {
    opacity: 0;
}

/* Responsividade básica */
@media (max-width: 768px) {
    body {
        flex-direction: column; /* Empilha sidebar e main */
    }

    main {
        margin-left: 0 !important; /* Remove margem da sidebar */
        padding: 1.5rem;
    }

    h1 {
        font-size: 1.8rem;
    }

    /* Ajustes na tabela para telas menores (mantidos) */
    table, thead, tbody, th, td, tr {
        display: block;
    }

    thead tr {
        position: absolute;
        top: -9999px;
        left: -9999px;
    }

    tr {
        border: 1px solid var(--theme-border-color); /* USA VARIÁVEL DE TEMA */
        margin-bottom: 1rem;
        border-radius: 8px;
        background-color: var(--theme-bg-surface); /* USA VARIÁVEL DE TEMA */
    }

    td {
        border: none;
        border-bottom: 1px solid var(--theme-border-color); /* USA VARIÁVEL DE TEMA */
        position: relative;
        padding-left: 50%; /* Espaço para o label */
        text-align: right;
        white-space: normal;
    }

    td:before {
        position: absolute;
        top: 50%;
        left: 10px;
        transform: translateY(-50%);
        width: 45%;
        padding-right: 10px;
        white-space: nowrap;
        text-align: left;
        font-weight: bold;
        color: var(--theme-secondary-lighter); /* USA VARIÁVEL DE TEMA */
    }

    /* Adiciona os labels via CSS (mantidos) */
    /* Ajustar os índices se a ordem das colunas mudar */
    /* Exemplo para tabela de usuários: */
    /* td:nth-of-type(1):before { content: "Usuário"; } */
    /* td:nth-of-type(2):before { content: "Senha"; } */
    /* td:nth-of-type(3):before { content: "E-mail"; } */
    /* td:nth-of-type(4):before { content: "Nível"; } */
    /* td:nth-of-type(5):before { content: "Ações"; } */

    /* Exemplo para tabela de clientes: */
    /* td:nth-of-type(1):before { content: "Nome"; } */
    /* td:nth-of-type(2):before { content: "WhatsApp"; } */
    /* td:nth-of-type(3):before { content: "Projeto"; } */
    /* td:nth-of-type(4):before { content: "Status"; } */
    /* td:nth-of-type(5):before { content: "Formulários"; } */
    /* td:nth-of-type(6):before { content: "Ações"; } */


    td:last-child {
        border-bottom: 0;
    }

    td input, td select {
        width: 100%; /* Ocupa o espaço disponível */
        text-align: right; /* Alinha texto à direita */
    }

    td:last-child {
        text-align: right; /* Alinha botões à direita */
    }

    td:last-child button {
        display: inline-block;
        margin-left: 0.5rem;
    }

    #create-user-form {
        grid-template-columns: 1fr; /* Uma coluna em telas pequenas */
    }
}
